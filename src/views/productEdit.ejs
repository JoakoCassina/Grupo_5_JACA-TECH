<%- include('partials/head', { styles: ['forms'] }) %>
<body class="background">
    <%- include('partials/header') %>
    <main class="main_form">
        <div class="forms">

            <ul class="errores"></ul>
            
            <form action="/product/<%= productEdit.id %>/edit?_method=PUT" method="post" enctype="multipart/form-data">
                <div>
                    <h1>Edición de Producto</h1>
                    <div class="input-box">
                        <input type="text" placeholder="Nombre" name="name" id="name" value="<%= productEdit.name %>">
                        <p id="err-name"></p>
                    </div>
                    <div class="input-box">
                        <select class="selectCategory" name="brands_id" id="">Marcas
                            <option value="#">Selecciona una Marca</option>
                            <% locals.brands && brands.forEach(element => { %>
                                
                                <option <%= productEdit.brands_id == element.id ? 'selected' : '' %> value="<%= element.id %>"><%= element.name %></option>
                            <% }); %>
                        </select>  
                    </div>
                    <div class="input-box">
                        <input type="text" placeholder="Descripcion" name="description" id="description" value="<%= productEdit.description %>">
                        <p id="err-description"></p>
                    </div>
                    <div class="input-box">
                        <input type="file" name="image" id="image" value="<%= productEdit.image %>" accept="image/jpg, image/jpeg, image/gif, image/png">
                        <p id="err-image"></p>
                    </div>
                    <div class="input-box">
                        <select class="selectCategory" name="product_categories_id" id="">Categoria
                            <option value="#">Selecciona una Categoria</option>
                            <% locals.categories?.forEach(element => { %>
                                
                                <option <%= productEdit.product_categories_id == element.id ? 'selected' : '' %> value="<%= element.id %>"><%= element.name %></option>
                            <% }); %>
                        </select>
                    </div>
                    <div class="input-box">
                        <input type="text" placeholder="Sub-Categoría" name="sub-category" value="<%= productEdit.subCategory %>">
                    </div>
                    <div class="input-box">
                        <input type="number" placeholder="Precio" required name="price" value="<%= productEdit.price %>">
                    </div>
                    <div class="input-box">
                        <input type="number" placeholder="Descuento" name="discount" value="<%= productEdit.discount %>">
                    </div>
                    <button type="submit">Actualizar</button>
                    <button type="reset">Limpiar Datos</button>
                </div>
            </form>
        </div>
    </main>
    <%- include('partials/footer') %>

    <script src="/js/ProductEditValidation.js"></script>

</body>
</html>